---
title: "2131. Longest Palindrome by Concatenating Two Letter Words"
date: 2022-11-03T14:05:07+08:00
draft: false
---

**é›£åº¦ï¼šğŸŸ  Normal ğŸŸ **

**é—œéµå­—ï¼šString, Hash Table**

<!--more-->

## å•é¡Œæè¿°

- çµ¦äºˆä¸€å€‹åŒ…å«äº†å…©å€‹å­—å…ƒçš„é™£åˆ—ï¼Œè¿”å›å¯ä»¥å½¢æˆçš„æœ€é•·å›æ–‡å­—ä¸²é•·åº¦

---

## æ€è·¯

- çµ¦äºˆçš„å­—ä¸²ï¼Œå¯ä»¥æœ‰å…©ç¨®æƒ…æ³
  1. åŒæ¨£çš„å­—å…ƒ(ex. aa, bb, gg)
  2. ä¸åŒçš„å­—å…ƒ(ex. ab, ck, kc)
- è¦å½¢æˆå›æ–‡ï¼Œæœƒæœ‰å…©ç¨®æƒ…æ³
  1. å­—ä¸²åœ¨ä¸­é–“ï¼Œåˆ†æˆå…©ç«¯(åªæœ‰åŒæ¨£çš„å­—å…ƒå¯ä»¥é”åˆ°é€™ç¨®ç‹€æ³)
  2. å­—ä¸²åœ¨æŸä¸€å´ï¼Œéœ€è¦æœ‰ç›¸åçš„å­—ä¸²ï¼Œç›¸åŒ/ä¸åŒçš„å­—å…ƒéƒ½å¯ä»¥
- åŸºæ–¼å‰›å‰›çš„æƒ³æ³•ï¼Œå¯ä»¥å»ºç«‹ä»¥ä¸‹çš„è¦å‰‡
  1. ç›¸åŒå­—å…ƒçš„å­—ä¸²å‡ºç¾çš„æƒ…æ³ä¸‹ï¼Œå¦‚æœæ˜¯å¥‡æ•¸æ¬¡æ•¸ï¼Œä»£è¡¨å¯ä»¥æˆç‚ºä¸­é–“å€¼ï¼Œä½†å¾ŒçºŒå‡ºç¾çš„å¥‡æ•¸å­—ä¸²å»ä¸å¯ä»¥
  2. ç›¸åŒå­—å…ƒçš„å­—ä¸²æŠŠå¶æ•¸æ¬¡æ•¸ / 2ï¼Œä»£è¡¨å¯ä»¥å½¢æˆå›æ–‡çš„å…©å´
  3. ä¸åŒå­—ä¸²å‡ºç¾çš„æƒ…æ³ä¸‹ï¼Œå–ç›¸åå­—ä¸²çš„æ¬¡æ•¸ï¼ŒæŠŠæœ€å°çš„æ¬¡æ•¸ä½œç‚ºå…±åŒçš„æ¬¡æ•¸
  4. å°‡å‰›å‰›å¾—åˆ°çš„æ¬¡æ•¸ä¾æ“šç›¸åŒ/ä¸åŒçš„ç‹€æ³åŠ ç¸½ä¸Šå»

- unordered_map
  - å¦‚æœå°æ­£åœ¨ç–Šä»£çš„ unordered_map é€²è¡Œå­˜å–çš„è©±ï¼Œå¦‚æœå­˜å–åˆ°ä¸å­˜åœ¨çš„å€¼ï¼Œæœƒæ–°å¢ä¸€å€‹å€¼é€² table ä¸­ï¼Œé€ æˆç–Šä»£çš„é †åºå‡ºç¾å•é¡Œ
    - è§£æ±ºæ–¹æ³•
      1. ä½¿ç”¨ find() å»å¾ unordered_map æ‰¾å€¼ï¼Œä¸ç”¨ç›´æ¥å­˜å–çš„æ–¹å¼ä¾†å°‹æ‰¾å€¼
      2. ä½¿ç”¨ map ä¾†å¯¦ä½œ hash_map

--- 

## ç¨‹å¼ç¢¼

```c++
class Solution {
public:

    string str_reverse(string s){
        reverse(s.begin(), s.end());
        return s;
    }

    int longestPalindrome(vector<string>& words) {
        unordered_map<string, int> table;
        
        int res = 0;

        for(string word: words){
            table[word]++; // å»ºç«‹å°ç…§è¡¨
        }
        
        for(auto &[k, v]: table){
            if(k[0] == k[1]){
                if(v%2==1){
                    if((res/2)%2==0) res+=2; // å¦‚æœé‚„æ²’æŠŠä¸­é–“çš„æƒ…æ³åŠ é€²å»çš„è©±
                    res+=(v-1)*2;
                }
                else res+=v*2;
            }
            else{
                string tmp = str_reverse(k); // reverse string
                if(table.find(tmp) != table.end()) res += min(v, table[tmp])*4; // æŠŠæ¯”è¼ƒå°çš„æ¬¡æ•¸ * 4
                v = 0; // æŠŠç›®å‰çš„ value æ”¹æˆ 0ï¼Œé‡åˆ°ç›¸åçš„å­—ä¸²æ™‚ä¾¿ä¸æœƒè™•ç†
            }
        }

        return res;
    }
};
```
