---
title: "91. Decode Ways"
date: 2022-10-01T14:46:09+08:00
draft: false
categories: ["Learning"]
Tags: ["LeetCode"]

resources:
  - name: "featured-image"
    src: "leetcode.png"
---

é›£åº¦ï¼šğŸŸ  Normal ğŸŸ 

---

## å•é¡Œæè¿°

çµ¦äºˆä¸€å€‹åŒ…å«æ•¸å­—çš„å­—ä¸²ï¼Œå­—ä¸²å…§çš„å­—å…ƒå¯ä»¥è½‰æ›ç‚ºå°æ‡‰çš„è‹±æ–‡å­—æ¯(A=1ã€B=2......Z=26)ï¼Œä¸€å€‹æ•¸å­—å­—ä¸²å¯èƒ½å¯ä»¥è½‰ç‚ºå¤šç¨®ä¸åŒçš„çµæœï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„çµæœæ•¸é‡ã€‚
å¦‚æœç„¡æ³•å®Œå…¨è™•ç†æ•´å€‹å­—ä¸²ï¼Œå‰‡å›å‚³ 0ï¼Œä»£è¡¨æ²’æœ‰å¯èƒ½çš„çµæœã€‚

---

## æ€è·¯

- DFS(Time Limit Exceed)
  - è¨­å®šä¸€å€‹ indexï¼Œè¡¨ç¤ºæ­¤ index å‰(åŒ…å«)çš„å­—å…ƒå·²ç¶“éæª¢æŸ¥ï¼Œå¯å½¢æˆçµæœ
  - æ¯æ¬¡æª¢æŸ¥ s[index+1] , s[index+1:index+2] çš„å­—ä¸²çµæœï¼Œå¦‚æœé€šéæª¢æŸ¥ï¼Œå°‡ index +1 / +2 çš„çµæœé€²å…¥ä¸‹ä¸€æ¬¡ DFS
  - å¦‚æœåˆ°é”äº†å­—ä¸²çš„æœ«å°¾ï¼Œä»£è¡¨æˆåŠŸç”¢ç”Ÿçµæœ
  - **ç›²é»ï¼š111å¯åˆ†ç‚º 1 11 / 11 1 / 1 1 1 ä¸‰ç¨®çµæœï¼Œä½†æ˜¯éœ€è¦è¨ˆç®— 3 æ¬¡ï¼Œç„¡æ³•é‡è¤‡ä½¿ç”¨å·²çŸ¥çš„çµæœ**

- DP
  - å»ºç«‹ä¸€å€‹ vectorï¼Œä»£è¡¨ç¬¬ N å€‹å­—ä¸²å‰çš„çµæœæ•¸é‡ -> dp[size()+1] // dp[0] ä¸ç´€éŒ„çµæœè³‡è¨Š
  - ç•¶åŠ å…¥äº†ä¸€å€‹æ–°çš„å­—å…ƒï¼Œæœ‰å…©ç¨®å¯èƒ½çµæœ
    - å­—å…ƒæœ¬èº«å¯ä»¥æˆç‚ºæ–°çš„çµæœ
    - å­—å…ƒå¯ä»¥èˆ‡å‰ä¸€å€‹å­—å…ƒç”¢ç”Ÿæ–°çš„çµæœ
  - **ç„¶è€Œéœ€è¦è€ƒæ…®ä¸ç¬¦åˆçš„æƒ…æ³(æ²’æœ‰ç”¢ç”Ÿçµæœ)**
  - ç®—æ³•é¡ä¼¼è²»å¼æ•¸åˆ—
    - å­—å…ƒæœ¬èº«å¯ä»¥æˆç‚ºæ–°çš„çµæœ -> dp[i] += dp[i-1];
    - å­—å…ƒå¯ä»¥èˆ‡å‰ä¸€å€‹å­—å…ƒç”¢ç”Ÿæ–°çš„çµæœ -> dp[i] += dp[i-2]
  - æœ€å¾Œå›å‚³ dp[size()]
  - **dp[0] å¿…é ˆæ˜¯ 1**
    - ç”±æ–¼ç¬¬ä¸€å€‹å­—å…ƒæœƒåƒè€ƒåˆ° dp[i-1]ï¼Œå¦‚æœåˆ¤æ–·å¼æˆç«‹çš„è©±æœƒæ˜¯ä¸€ç¨®çµæœ(ä¹Ÿå¯ä»¥ç›´æ¥é™„å€¼ 0)
    - ç”±æ–¼ç¬¬äºŒå€‹å­—å…ƒæœƒåƒè€ƒåˆ° dp[i-2] çš„çµæœï¼Œå¦‚æœåˆ¤æ–·å¼æˆç«‹çš„è©±æœƒæ˜¯ä¸€ç¨®çµæœ

---

## ç¨‹å¼ç¢¼

```c++
class Solution {
public:
    // dfs(TLE)
    // int res = 0;
    // string str;

    // void dfs(int index){
    //     if(index == str.size()-1){
    //         res++;
    //         return;
    //     }
        
    //     if(index == str.size()-2){
    //         if(str[index+1] != '0') dfs(index+1);
    //     }
    //     else{
    //         if(str[index+1] != '0') dfs(index+1);
    //         if("09" < str.substr(index+1, 2) && str.substr(index+1, 2) < "27") dfs(index+2);
    //     }
    // }

    // int numDecodings(string s) {
    //     str = s;
    //     dfs(-1);
    //     return res;    
    // }

    int numDecodings(string s){

        vector<int> dp(s.size()+1);
        dp[0] = 1;

        for(int i = 0; i < s.size(); i++){
            // ç¬¬ä¸€å€‹å­—å…ƒ
            if(i == 0){
                if(s[i] == '0') return 0;
                else dp[i+1] = 1;
                // else dp[i+1] = dp[i];
            }
            // ç¬¬äºŒå€‹å­—å…ƒ
            else{
                if(s[i] != '0') dp[i+1] += dp[i];
                if("09" < s.substr(i-1, 2) && s.substr(i-1, 2) < "27") dp[i+1] += dp[i-1];
            }
        }
        return dp[s.size()];
    }
};
```
