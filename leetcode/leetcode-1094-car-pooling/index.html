<!doctype html>
<html lang="en-us">
  <head>
    <title>Leetcode 1094 Car Pooling // Dilemma Rabbit</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.91.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="DilemmaRabbit" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://DilemmaRabbit.github.io/css/main.min.dc7bd8735a57ef73c20e8a83e31d56f24512c666564f61a8705f834f8731105c.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode 1094 Car Pooling"/>
<meta name="twitter:description" content="問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car&#39;s initial location."/>

    <meta property="og:title" content="Leetcode 1094 Car Pooling" />
<meta property="og:description" content="問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car&#39;s initial location." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://DilemmaRabbit.github.io/leetcode/leetcode-1094-car-pooling/" /><meta property="article:section" content="leetcode" />
<meta property="article:published_time" content="2022-01-06T15:03:20+08:00" />
<meta property="article:modified_time" content="2022-01-06T15:03:20+08:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://DilemmaRabbit.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="DilemmaRabbit" /></a>
      <h1>Dilemma Rabbit</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             | 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>Programer / Student</p>
      <div class="app-header-social">
        
          <a href="https://github.com/DilemmaRabbit" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>GitHub</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="mailto:a21663832@gmail.com" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-at-sign">
  <title>gmail</title>
  <circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>
</svg>
          </a>
        
          <a href="https://t.me/DilemmaRabbit" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-navigation">
  <title>telegram</title>
  <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Leetcode 1094 Car Pooling</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jan 6, 2022
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://DilemmaRabbit.github.io/tags/leetcode/">LeetCode</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h2 id="問題描述">問題描述</h2>
<h3 id="分類-medium-">分類：🟠 Medium 🟠</h3>
<h3 id="相關主題arraysortingheappiority-queuesimulationprefix-sum">相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum</h3>
<h3 id="題目英文">題目（英文）</h3>
<pre tabindex="0"><code>There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west).

You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car's initial location.

Return true if it is possible to pick up and drop off all passengers for all the given trips, or false otherwise.
</code></pre><hr>
<h3 id="測資">測資</h3>
<pre tabindex="0"><code>Example 1:

Input: trips = [[2,1,5],[3,3,7]], capacity = 4
Output: false

Example 2:

Input: trips = [[2,1,5],[3,3,7]], capacity = 5
Output: true
</code></pre><hr>
<h3 id="題目中文">題目（中文）</h3>
<pre tabindex="0"><code>有一輛有座位限制的車，並且這台車只能從西向東行駛( 0 -&gt; N )

你有一份清單 trip，記載了數筆(numPassengersi, fromi, toi)的資料，numPassengers 代表了乘客數量，from 代表起始地點，to 代表目標地點

給定車子的負載 capacity，詢問是否可以將所有乘客載至目的地回傳 true 與 false
</code></pre><hr>
<h2 id="思路">思路</h2>
<ol>
<li>由於需要計算每一站上下車的人數(起點與終點)，所以必須針對 trip 內有的資料進行排序</li>
<li>儲存每站需要的上下車人數</li>
<li>當離開某一站時，比較當前的負載是否超重</li>
<li>只要計算當站相對增加或減少的人數直接做加減</li>
</ol>
<hr>
<h2 id="程式碼">程式碼</h2>
<p>基於剛剛1 ~ 3思路</p>
<pre tabindex="0"><code>class Solution {
public:
    bool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) {
        
        int i;
        int current=0;
        int max=INT_MIN; # 最後一站
        map&lt;int, int[2]&gt; table; # 紀錄每一站的上下車人數資訊
        
        for(i = 0; i &lt; trips.size(); i++){
            table[trips[i][1]][0] += trips[i][0];
            table[trips[i][2]][1] += trips[i][0];
            if(trips[i][2] &gt; max){
                max = trips[i][2]; # 取得最後一站的資料做遍歷用
            }
        }
        
        for(i = 0; i &lt;= max; i++){
            current += table[i][0]; # 上車
            current -= table[i][1]; # 下車
            if(current &gt; capacity){ 
                return false; # 檢查是否超重
            }
        }      
        return true;
    }
};
</code></pre><p>稍微改進了用陣列來儲存與合併負載資訊，4 思路</p>
<pre tabindex="0"><code>class Solution {
public:
    bool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) {
        
        int i,cur=0;
        int max=INT_MIN;
            
        for(i = 0; i &lt; trips.size(); i++){
            if(max &lt; trips[i][2]){
                max = trips[i][2]; # 計算出最後一站( 需要的array大小 )
            }
        }
        
        int t[max+1]; # 由於包含 0，需要在增加 1 大小
        memset(t,0,sizeof(int)*max); # 陣列初始化
        
        for(i = 0; i &lt; trips.size(); i++){
            # 取得此站總共需要的上下車人數總和
            t[trips[i][1]] += trips[i][0]; 
            t[trips[i][2]] -= trips[i][0];
        }
        
        for(i = 0; i &lt; max; i++){
            cur += t[i];
            if(cur &gt; capacity){
                return false; # 檢查是否超重
            }
        }
        return true;
    }
};
</code></pre><hr>
<h2 id="結果">結果</h2>
<p>第一個作法</p>
<p><img src="https://i.imgur.com/icOlS6d.png" alt=""></p>
<p>第二個作法</p>
<h2 id="httpsiimgurcom0puemmwpng"><img src="https://i.imgur.com/0pUEMMw.png" alt=""></h2>
<h2 id="結語">結語</h2>
<p>昨天的 dp 題完全寫不出來 QQ (改天在寫)，今天的題目概念算是簡單的類型，慢慢計算上下車的人數就好，後來發現直接計算人數的相對增減更省空間，一開始用 hash table 是為了方便計算 max 的值，由於如果需要紀錄每一站的上下車人數，必須要事先知道最後一站的編號，hash table 在建立的過程中就可以取得，但是換成用 array 的方式就必須先跑一層 for 來確定 max，但是以結果來說還是可以明顯發現 hash table 所佔用的資源量比較多，且跑起來的平均表現也沒有比用一般 array 好。</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
