<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Leetcode 1094 Car Pooling - Dilemma Rabbit</title><meta name="description" content=""><meta property="og:title" content="Leetcode 1094 Car Pooling" />
<meta property="og:description" content="問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car&#39;s initial location." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://DilemmaRabbit.github.io/leetcode/leetcode-1094-car-pooling/" /><meta property="article:section" content="leetcode" />
<meta property="article:published_time" content="2022-01-06T15:03:20+08:00" />
<meta property="article:modified_time" content="2022-01-06T15:03:20+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode 1094 Car Pooling"/>
<meta name="twitter:description" content="問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car&#39;s initial location."/>
<meta name="application-name" content="Dilemma Rabbit">
<meta name="apple-mobile-web-app-title" content="Dilemma Rabbit"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://DilemmaRabbit.github.io/leetcode/leetcode-1094-car-pooling/" /><link rel="prev" href="https://DilemmaRabbit.github.io/leetcode/leetcode-1009-complement-of-base-10-integer/" /><link rel="next" href="https://DilemmaRabbit.github.io/leetcode/leetcode-382-linked-list-random-node/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Leetcode 1094 Car Pooling",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/DilemmaRabbit.github.io\/leetcode\/leetcode-1094-car-pooling\/"
        },"genre": "leetcode","keywords": "LeetCode","wordcount":  345 ,
        "url": "https:\/\/DilemmaRabbit.github.io\/leetcode\/leetcode-1094-car-pooling\/","datePublished": "2022-01-06T15:03:20+08:00","dateModified": "2022-01-06T15:03:20+08:00","publisher": {
            "@type": "Organization",
            "name": "dilemmarabbit"},"author": {
                "@type": "Person",
                "name": "dilemmarabbit"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">('' === 'true' && window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Dilemma Rabbit"><span class="header-title-pre">></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/tags/"> 標籤 </a><a class="menu-item" href="/categories/"> 分類 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Dilemma Rabbit"><span class="header-title-pre">></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/tags/" title="">標籤</a><a class="menu-item" href="/categories/" title="">分類</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><div class="page single special"><h1 class="single-title animated pulse faster">Leetcode 1094 Car Pooling</h1><div class="details toc" id="toc-static"  kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#問題描述">問題描述</a>
      <ul>
        <li><a href="#分類-medium-">分類：🟠 Medium 🟠</a></li>
        <li><a href="#相關主題arraysortingheappiority-queuesimulationprefix-sum">相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum</a></li>
        <li><a href="#題目英文">題目（英文）</a></li>
        <li><a href="#測資">測資</a></li>
        <li><a href="#題目中文">題目（中文）</a></li>
      </ul>
    </li>
    <li><a href="#思路">思路</a></li>
    <li><a href="#程式碼">程式碼</a></li>
    <li><a href="#結果">結果</a></li>
    <li><a href="#httpsiimgurcom0puemmwpng"><img src="https://i.imgur.com/0pUEMMw.png" alt=""></a></li>
    <li><a href="#結語">結語</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="問題描述">問題描述</h2>
<h3 id="分類-medium-">分類：🟠 Medium 🟠</h3>
<h3 id="相關主題arraysortingheappiority-queuesimulationprefix-sum">相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum</h3>
<h3 id="題目英文">題目（英文）</h3>
<pre tabindex="0"><code>There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west).

You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car's initial location.

Return true if it is possible to pick up and drop off all passengers for all the given trips, or false otherwise.
</code></pre><hr>
<h3 id="測資">測資</h3>
<pre tabindex="0"><code>Example 1:

Input: trips = [[2,1,5],[3,3,7]], capacity = 4
Output: false

Example 2:

Input: trips = [[2,1,5],[3,3,7]], capacity = 5
Output: true
</code></pre><hr>
<h3 id="題目中文">題目（中文）</h3>
<pre tabindex="0"><code>有一輛有座位限制的車，並且這台車只能從西向東行駛( 0 -&gt; N )

你有一份清單 trip，記載了數筆(numPassengersi, fromi, toi)的資料，numPassengers 代表了乘客數量，from 代表起始地點，to 代表目標地點

給定車子的負載 capacity，詢問是否可以將所有乘客載至目的地回傳 true 與 false
</code></pre><hr>
<h2 id="思路">思路</h2>
<ol>
<li>由於需要計算每一站上下車的人數(起點與終點)，所以必須針對 trip 內有的資料進行排序</li>
<li>儲存每站需要的上下車人數</li>
<li>當離開某一站時，比較當前的負載是否超重</li>
<li>只要計算當站相對增加或減少的人數直接做加減</li>
</ol>
<hr>
<h2 id="程式碼">程式碼</h2>
<p>基於剛剛1 ~ 3思路</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">bool</span> <span class="n">carPooling</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">trips</span><span class="p">,</span> <span class="kt">int</span> <span class="n">capacity</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">current</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">max</span><span class="o">=</span><span class="n">INT_MIN</span><span class="p">;</span> <span class="err">#</span> <span class="err">最後一站</span>
        <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&gt;</span> <span class="n">table</span><span class="p">;</span> <span class="err">#</span> <span class="err">紀錄每一站的上下車人數資訊</span>
        
        <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">trips</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">table</span><span class="p">[</span><span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
            <span class="n">table</span><span class="p">[</span><span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
            <span class="k">if</span><span class="p">(</span><span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">max</span><span class="p">){</span>
                <span class="n">max</span> <span class="o">=</span> <span class="n">trips</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span> <span class="err">#</span> <span class="err">取得最後一站的資料做遍歷用</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">max</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">current</span> <span class="o">+=</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span> <span class="err">#</span> <span class="err">上車</span>
            <span class="n">current</span> <span class="o">-=</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span> <span class="err">#</span> <span class="err">下車</span>
            <span class="k">if</span><span class="p">(</span><span class="n">current</span> <span class="o">&gt;</span> <span class="n">capacity</span><span class="p">){</span> 
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="err">#</span> <span class="err">檢查是否超重</span>
            <span class="p">}</span>
        <span class="p">}</span>      
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><p>稍微改進了用陣列來儲存與合併負載資訊，4 思路</p>
<pre tabindex="0"><code>class Solution {
public:
    bool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) {
        
        int i,cur=0;
        int max=INT_MIN;
            
        for(i = 0; i &lt; trips.size(); i++){
            if(max &lt; trips[i][2]){
                max = trips[i][2]; # 計算出最後一站( 需要的array大小 )
            }
        }
        
        int t[max+1]; # 由於包含 0，需要在增加 1 大小
        memset(t,0,sizeof(int)*max); # 陣列初始化
        
        for(i = 0; i &lt; trips.size(); i++){
            # 取得此站總共需要的上下車人數總和
            t[trips[i][1]] += trips[i][0]; 
            t[trips[i][2]] -= trips[i][0];
        }
        
        for(i = 0; i &lt; max; i++){
            cur += t[i];
            if(cur &gt; capacity){
                return false; # 檢查是否超重
            }
        }
        return true;
    }
};
</code></pre><hr>
<h2 id="結果">結果</h2>
<p>第一個作法</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.imgur.com/icOlS6d.png"
        data-srcset="https://i.imgur.com/icOlS6d.png, https://i.imgur.com/icOlS6d.png 1.5x, https://i.imgur.com/icOlS6d.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/icOlS6d.png"
        title="https://i.imgur.com/icOlS6d.png" /></p>
<p>第二個作法</p>
<h2 id="httpsiimgurcom0puemmwpng"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.imgur.com/0pUEMMw.png"
        data-srcset="https://i.imgur.com/0pUEMMw.png, https://i.imgur.com/0pUEMMw.png 1.5x, https://i.imgur.com/0pUEMMw.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/0pUEMMw.png"
        title="https://i.imgur.com/0pUEMMw.png" /></h2>
<h2 id="結語">結語</h2>
<p>昨天的 dp 題完全寫不出來 QQ (改天在寫)，今天的題目概念算是簡單的類型，慢慢計算上下車的人數就好，後來發現直接計算人數的相對增減更省空間，一開始用 hash table 是為了方便計算 max 的值，由於如果需要紀錄每一站的上下車人數，必須要事先知道最後一站的編號，hash table 在建立的過程中就可以取得，但是換成用 array 的方式就必須先跑一層 for 來確定 max，但是以結果來說還是可以明顯發現 hash table 所佔用的資源量比較多，且跑起來的平均表現也沒有比用一般 array 好。</p>
</div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.92.0">Hugo</a> | Theme - <a href="https://github.com/sunt-programator/CodeIT" target="_blank" rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i> CodeIT</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer">dilemmarabbit</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":150},"comment":{},"data":{"id-1":"DilemmaRabbir's Blog 🐇","id-2":"DilemmaRabbir's Blog 🐇"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"typeit":{"cursorChar":" |","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":150}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
