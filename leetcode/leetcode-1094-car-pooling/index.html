<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
><head>
  <title>
    
      DilemmaRabbit
        |
        Leetcode 1094 Car Pooling


      


    
  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.91.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta
    name="description"
    content="
      Programer / Student


    "
  />
  
  
  
  <link
    rel="stylesheet"
    href="/css/main.min.861c630407a306e1a79890bffbab9b381c5a0b03cd0c3b79755cc5eeea04b6b0.css"
    integrity="sha256-hhxjBAejBuGnmJC/&#43;6ubOBxaCwPNDDt5dVzF7uoEtrA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.058b31f17db60602cc415fd63b0427e7932fbf35c70d8e341a4c39385f5f6f3e.css"
    integrity="sha256-BYsx8X22BgLMQV/WOwQn55MvvzXHDY40Gkw5OF9fbz4="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
    crossorigin="anonymous"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="https://DilemmaRabbit.github.io/leetcode/leetcode-1094-car-pooling/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.2a2cd9614b7d007dfbb75e8da19e3a0fa872ceab53c6d000c00b7a0c89b85bfc.js"
    integrity="sha256-KizZYUt9AH37t16NoZ46D6hyzqtTxtAAwAt6DIm4W/w="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js"
      integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus="
      crossorigin="anonymous"
    ></script>

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode 1094 Car Pooling"/>
<meta name="twitter:description" content="問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car&#39;s initial location."/>



  


  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "leetcode",
        "name": "Leetcode 1094 Car Pooling",
        "headline": "Leetcode 1094 Car Pooling",
        "alternativeHeadline": "",
        "description": "
      
        問題描述 分類：🟠 Medium 🟠 相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum 題目（英文） There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west). You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car\u0027s initial location.


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/DilemmaRabbit.github.io\/leetcode\/leetcode-1094-car-pooling\/"
        },
        "author" : {
            "@type": "Person",
            "name": "DilemmaRabbit"
        },
        "creator" : {
            "@type": "Person",
            "name": "DilemmaRabbit"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "DilemmaRabbit"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "DilemmaRabbit"
        },
        "copyrightYear" : "2022",
        "dateCreated": "2022-01-06T15:03:20.00Z",
        "datePublished": "2022-01-06T15:03:20.00Z",
        "dateModified": "2022-01-06T15:03:20.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "DilemmaRabbit",
            "url": "https://DilemmaRabbit.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/DilemmaRabbit.github.io\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/DilemmaRabbit.github.io\/leetcode\/leetcode-1094-car-pooling\/",
        "wordCount" : "345",
        "genre" : [ ],
        "keywords" : [ 
      
      "LeetCode"

    ]
    }
  </script>



</head>
<body>
    <header><div
  class="page-top 
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
  </a>
  <nav>
    <ul class="nav__list" id="navMenu">
      <div class="nav__links">
        
        
          
          <li>
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>

        
          
          <li>
            <a
              
              href="/tags/"
              
              title=""
              >Tags</a
            >
          </li>

        
      </div>
      <ul>
        
        
          <li>
            <a class="theme-switch" title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </li>

        
      </ul>
    </ul>
  </nav>
</div>
</header>
    <div class="wrapper">
      <aside><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="logo-title">
      <div class="title">
        <img src="/" alt="profile picture" />
        <h3 title=""><a href="/"></a></h3>
        <div class="description">
          <p>Programer / Student</p>
        </div>
      </div>
    </div>
    <ul class="social-links">
      
    </ul>
  </div><footer class="footer footer--sidebar">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          DilemmaRabbit
          2022


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main>
        <div class="autopagerize_page_element">
          <div class="content">
  <div
    class="post 
      animated fadeInDown

    "
  >
    <div class="post-content">
      
      <div class="post-title">
        <h1>Leetcode 1094 Car Pooling</h1>
        
      </div><h2 id="問題描述">問題描述</h2>
<h3 id="分類-medium-">分類：🟠 Medium 🟠</h3>
<h3 id="相關主題arraysortingheappiority-queuesimulationprefix-sum">相關主題：Array,Sorting,Heap(Piority Queue),Simulation,Prefix Sum</h3>
<h3 id="題目英文">題目（英文）</h3>
<pre tabindex="0"><code>There is a car with capacity empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west).

You are given the integer capacity and an array trips where trip[i] = [numPassengersi, fromi, toi] indicates that the ith trip has numPassengersi passengers and the locations to pick them up and drop them off are fromi and toi respectively. The locations are given as the number of kilometers due east from the car's initial location.

Return true if it is possible to pick up and drop off all passengers for all the given trips, or false otherwise.
</code></pre><hr>
<h3 id="測資">測資</h3>
<pre tabindex="0"><code>Example 1:

Input: trips = [[2,1,5],[3,3,7]], capacity = 4
Output: false

Example 2:

Input: trips = [[2,1,5],[3,3,7]], capacity = 5
Output: true
</code></pre><hr>
<h3 id="題目中文">題目（中文）</h3>
<pre tabindex="0"><code>有一輛有座位限制的車，並且這台車只能從西向東行駛( 0 -&gt; N )

你有一份清單 trip，記載了數筆(numPassengersi, fromi, toi)的資料，numPassengers 代表了乘客數量，from 代表起始地點，to 代表目標地點

給定車子的負載 capacity，詢問是否可以將所有乘客載至目的地回傳 true 與 false
</code></pre><hr>
<h2 id="思路">思路</h2>
<ol>
<li>由於需要計算每一站上下車的人數(起點與終點)，所以必須針對 trip 內有的資料進行排序</li>
<li>儲存每站需要的上下車人數</li>
<li>當離開某一站時，比較當前的負載是否超重</li>
<li>只要計算當站相對增加或減少的人數直接做加減</li>
</ol>
<hr>
<h2 id="程式碼">程式碼</h2>
<p>基於剛剛1 ~ 3思路</p>
<pre tabindex="0"><code>class Solution {
public:
    bool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) {
        
        int i;
        int current=0;
        int max=INT_MIN; # 最後一站
        map&lt;int, int[2]&gt; table; # 紀錄每一站的上下車人數資訊
        
        for(i = 0; i &lt; trips.size(); i++){
            table[trips[i][1]][0] += trips[i][0];
            table[trips[i][2]][1] += trips[i][0];
            if(trips[i][2] &gt; max){
                max = trips[i][2]; # 取得最後一站的資料做遍歷用
            }
        }
        
        for(i = 0; i &lt;= max; i++){
            current += table[i][0]; # 上車
            current -= table[i][1]; # 下車
            if(current &gt; capacity){ 
                return false; # 檢查是否超重
            }
        }      
        return true;
    }
};
</code></pre><p>稍微改進了用陣列來儲存與合併負載資訊，4 思路</p>
<pre tabindex="0"><code>class Solution {
public:
    bool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) {
        
        int i,cur=0;
        int max=INT_MIN;
            
        for(i = 0; i &lt; trips.size(); i++){
            if(max &lt; trips[i][2]){
                max = trips[i][2]; # 計算出最後一站( 需要的array大小 )
            }
        }
        
        int t[max+1]; # 由於包含 0，需要在增加 1 大小
        memset(t,0,sizeof(int)*max); # 陣列初始化
        
        for(i = 0; i &lt; trips.size(); i++){
            # 取得此站總共需要的上下車人數總和
            t[trips[i][1]] += trips[i][0]; 
            t[trips[i][2]] -= trips[i][0];
        }
        
        for(i = 0; i &lt; max; i++){
            cur += t[i];
            if(cur &gt; capacity){
                return false; # 檢查是否超重
            }
        }
        return true;
    }
};
</code></pre><hr>
<h2 id="結果">結果</h2>
<p>第一個作法</p>
<p><img src="https://i.imgur.com/icOlS6d.png" alt=""></p>
<p>第二個作法</p>
<h2 id="httpsiimgurcom0puemmwpng"><img src="https://i.imgur.com/0pUEMMw.png" alt=""></h2>
<h2 id="結語">結語</h2>
<p>昨天的 dp 題完全寫不出來 QQ (改天在寫)，今天的題目概念算是簡單的類型，慢慢計算上下車的人數就好，後來發現直接計算人數的相對增減更省空間，一開始用 hash table 是為了方便計算 max 的值，由於如果需要紀錄每一站的上下車人數，必須要事先知道最後一站的編號，hash table 在建立的過程中就可以取得，但是換成用 array 的方式就必須先跑一層 for 來確定 max，但是以結果來說還是可以明顯發現 hash table 所佔用的資源量比較多，且跑起來的平均表現也沒有比用一般 array 好。</p>
</div>
    <div class="post-footer">
      <div class="info">
        

        
          <span class="separator"><a class="tag" href="/tags/leetcode/">LeetCode</a></span>




        
      </div>
    </div>

    
  </div>


          </div>
        </div>
      </main>
    </div><footer class="footer footer--base">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          DilemmaRabbit
          2022


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script></body>
</html>
